appId: dev.lazyconvex.blog
---
- runFlow: login.yaml

- assertVisible: "Blog"
- assertVisible: "Search blogs..."

- tapOn:
    text: "plus"
- waitForAnimationToEnd
- assertVisible: "New Post"

- tapOn: "My awesome post"
- inputText: "Searchable Alpha Post"
- hideKeyboard

- tapOn:
    point: 540,1404
- inputText: "Alpha content for search testing"
- hideKeyboard

- scrollUntilVisible:
    element: "Published"
    direction: DOWN
    timeout: 5000

- tapOn: "Create"
- waitForAnimationToEnd

- extendedWaitUntil:
    notVisible: "New Post"
    timeout: 15000

- extendedWaitUntil:
    visible: "Blog"
    timeout: 10000

- extendedWaitUntil:
    visible: "Searchable Alpha Post"
    timeout: 10000

- tapOn:
    text: "plus"
- waitForAnimationToEnd
- assertVisible: "New Post"

- tapOn: "My awesome post"
- inputText: "Searchable Beta Post"
- hideKeyboard

- tapOn:
    point: 540,1404
- inputText: "Beta content for search testing"
- hideKeyboard

- scrollUntilVisible:
    element: "Published"
    direction: DOWN
    timeout: 5000

- tapOn: "Create"
- waitForAnimationToEnd

- extendedWaitUntil:
    notVisible: "New Post"
    timeout: 15000

- extendedWaitUntil:
    visible: "Blog"
    timeout: 10000

- scrollUntilVisible:
    element: "Searchable Beta Post"
    direction: DOWN
    timeout: 15000

- tapOn: "Search blogs..."
- inputText: "Alpha"
- extendedWaitUntil:
    visible: "Searchable Alpha Post"
    timeout: 10000

- eraseText: 50
- tapOn: "Search blogs..."
- inputText: "Beta"
- extendedWaitUntil:
    visible: "Searchable Beta Post"
    timeout: 10000

- eraseText: 50
- tapOn: "Search blogs..."
- inputText: "Searchable"
- extendedWaitUntil:
    visible: "Searchable Alpha Post"
    timeout: 10000
- assertVisible: "Searchable Beta Post"

- eraseText: 50
- tapOn: "Search blogs..."
- inputText: "xyznonexistent99"
- waitForAnimationToEnd

- eraseText: 50
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "Searchable Alpha Post"
    timeout: 10000
- assertVisible: "Searchable Beta Post"
